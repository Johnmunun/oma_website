@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  /* üé® Palette OMA - Fond clair beige/cr√®me avec accents Or/Orange (C√¥t√© Public) */
  /* Couleurs principales - Fond tr√®s clair beige/cr√®me */
  --background: oklch(0.99 0.005 85);
  --foreground: oklch(0.15 0.02 280);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.15 0.02 280);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.15 0.02 280);

  /* Primaire: Noir profond (pour Hero section, OMA TV, Newsletter, Footer) */
  --primary: oklch(0.1 0 0);
  --primary-foreground: oklch(0.98 0.01 85);

  /* Secondaire: Or luxueux (pour accents) */
  --secondary: oklch(0.72 0.18 65);
  --secondary-foreground: oklch(0.15 0.02 280);

  /* Accents et neutres */
  --muted: oklch(0.97 0.01 85);
  --muted-foreground: oklch(0.5 0.01 85);
  --accent: oklch(0.72 0.18 65);
  --accent-foreground: oklch(0.15 0.02 280);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.98 0.01 85);
  --border: oklch(0.92 0.01 85);
  --input: oklch(1 0 0);
  --ring: oklch(0.72 0.18 65);

  /* Rayon de bordure */
  --radius: 0.5rem;

  /* Sidebar - Pour admin seulement (sera surcharg√© dans .admin-theme) */
  --sidebar: oklch(0.22 0.1 280);
  --sidebar-foreground: oklch(0.95 0.01 85);
  --sidebar-primary: oklch(0.4 0.08 280);
  --sidebar-primary-foreground: oklch(0.99 0.005 85);
  --sidebar-accent: oklch(0.3 0.08 280);
  --sidebar-accent-foreground: oklch(0.95 0.01 85);
  --sidebar-border: oklch(0.28 0.1 280);
  --sidebar-ring: oklch(0.5 0.08 280);

  /* Teintes personnalis√©es OMA - Or/Orange vibrant (comme sur les images) */
  --gold: #f97316;
  --gold-dark: #ea580c;
  --gold-light: #fb923c;
  --dark-overlay: rgba(18, 18, 18, 0.95);
}

/* Th√®me Admin - Violet/Noir (appliqu√© uniquement dans /admin) */
.admin-theme,
[data-admin-theme] {
  --background: oklch(0.99 0.005 85);
  --foreground: oklch(0.15 0.02 280);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.15 0.02 280);
  --primary: oklch(0.25 0.08 280);
  --primary-foreground: oklch(0.99 0.005 85);
  --secondary: oklch(0.65 0.06 280);
  --sidebar: oklch(0.22 0.1 280);
  --sidebar-foreground: oklch(0.95 0.01 85);
  --sidebar-primary: oklch(0.4 0.08 280);
  --sidebar-border: oklch(0.28 0.1 280);
}

.dark {
  --background: oklch(0.12 0.01 280);
  --foreground: oklch(0.95 0.01 85);
  --card: oklch(0.16 0.02 280);
  --card-foreground: oklch(0.95 0.01 85);
  --popover: oklch(0.16 0.02 280);
  --popover-foreground: oklch(0.95 0.01 85);
  --primary: oklch(0.5 0.12 280);
  --primary-foreground: oklch(0.99 0.005 85);
  --secondary: oklch(0.65 0.1 280);
  --secondary-foreground: oklch(0.15 0.02 280);
  --muted: oklch(0.2 0.02 280);
  --muted-foreground: oklch(0.7 0.01 280);
  --accent: oklch(0.75 0.08 280);
  --accent-foreground: oklch(0.15 0.02 280);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.99 0.005 85);
  --border: oklch(0.25 0.02 280);
  --input: oklch(0.18 0.02 280);
  --ring: oklch(0.5 0.1 280);
  --chart-1: oklch(0.5 0.12 280);
  --chart-2: oklch(0.65 0.1 280);
  --chart-3: oklch(0.75 0.08 280);
  --chart-4: oklch(0.85 0.06 280);
  --chart-5: oklch(0.9 0.04 280);
  --sidebar: oklch(0.22 0.12 280);
  --sidebar-foreground: oklch(0.95 0.01 85);
  --sidebar-primary: oklch(0.5 0.12 280);
  --sidebar-primary-foreground: oklch(0.99 0.005 85);
  --sidebar-accent: oklch(0.3 0.1 280);
  --sidebar-accent-foreground: oklch(0.95 0.01 85);
  --sidebar-border: oklch(0.28 0.12 280);
  --sidebar-ring: oklch(0.6 0.1 280);
  --purple-dark: oklch(0.18 0.08 280);
  --purple-medium: oklch(0.3 0.06 280);
  --purple-light: oklch(0.45 0.05 280);
  --purple-lavender: oklch(0.6 0.04 280);
}

@theme inline {
  --font-sans: var(--font-poppins);
  --font-serif: var(--font-playfair);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-purple-dark: var(--purple-dark);
  --color-purple-medium: var(--purple-medium);
  --color-purple-light: var(--purple-light);
  --color-purple-lavender: var(--purple-lavender);
  --color-gold: var(--gold);
  --color-gold-dark: var(--gold-dark);
  --color-gold-light: var(--gold-light);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  
  html {
    overflow-x: hidden;
    max-width: 100vw;
    width: 100%;
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-background text-foreground;
    overflow-x: hidden;
    max-width: 100vw;
    width: 100%;
    position: relative;
  }
  
  /* Smooth scroll pour les ancres */
  @media (prefers-reduced-motion: no-preference) {
    html {
      scroll-behavior: smooth;
    }
  }
  
  /* Emp√™cher le d√©bordement horizontal sur tous les √©l√©ments */
  * {
    max-width: 100%;
  }
  
  img, video, iframe, embed, object {
    max-width: 100%;
    height: auto;
  }

  /* Classe de transition pour animations fluides */
  .transition-smooth {
    @apply transition-all duration-300 ease-in-out;
  }
  
  /* Classe utilitaire pour √©viter le d√©bordement */
  .no-overflow {
    overflow-x: hidden;
    max-width: 100%;
  }
}

/* Ajouter les animations personnalis√©es pour transitions fluides */
@layer utilities {
  /* Utilitaires pour la couleur orange/or */
  .text-gold {
    color: var(--gold) !important;
  }
  
  .bg-gold {
    background-color: var(--gold) !important;
  }
  
  .border-gold {
    border-color: var(--gold) !important;
  }
  
  .bg-gold-dark {
    background-color: var(--gold-dark) !important;
  }
  
  .bg-gold-light {
    background-color: var(--gold-light) !important;
  }
  
  /* Utilitaires line-clamp pour tronquer le texte */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  /* Animation d'entr√©e fade in */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Animation zoom entrant */
  @keyframes zoomIn {
    from {
      opacity: 0;
      transform: scale(1.05);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Animation slide up */
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Animation slide in from right */
  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(100%);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* Classes d'animation r√©utilisables */
  .animate-fadeIn {
    animation: fadeIn 0.6s ease-out forwards;
  }

  .animate-zoomIn {
    animation: zoomIn 0.8s ease-out forwards;
  }

  .animate-slideUp {
    animation: slideUp 0.6s ease-out forwards;
    opacity: 0;
  }

  .animate-slideInRight {
    animation: slideInRight 0.5s ease-out forwards;
  }

  /* Gradients Or/Orange pour le c√¥t√© public */
  .gradient-gold {
    background: linear-gradient(135deg, oklch(0.75 0.2 65) 0%, oklch(0.65 0.18 65) 100%);
  }

  .gradient-gold-dark {
    background: linear-gradient(135deg, oklch(0.65 0.18 65) 0%, oklch(0.55 0.15 65) 100%);
  }

  /* Gradients violets d√©grad√©s vers noir - Pour Admin uniquement */
  .admin-theme .gradient-purple,
  [data-admin-theme] .gradient-purple {
    background: linear-gradient(135deg, oklch(0.4 0.1 280) 0%, oklch(0.18 0.02 280) 100%);
  }

  .admin-theme .gradient-purple-dark,
  [data-admin-theme] .gradient-purple-dark {
    background: linear-gradient(135deg, oklch(0.25 0.08 280) 0%, oklch(0.12 0.01 280) 100%);
  }

  .admin-theme .gradient-purple-light,
  [data-admin-theme] .gradient-purple-light {
    background: linear-gradient(135deg, oklch(0.55 0.08 280) 0%, oklch(0.35 0.06 280) 100%);
  }

  /* Ombres douces pour les cartes */
  .shadow-soft {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.05);
  }

  .shadow-soft-lg {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1), 0 2px 6px rgba(0, 0, 0, 0.08);
  }

  /* Scrollbar personnalis√© globale - Style premium avec or (#e6be3d) */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    background: #1a1a1a;
    border-radius: 10px;
  }

  ::-webkit-scrollbar-thumb {
    background: #e6be3d;
    border-radius: 10px;
    transition: background 0.3s ease;
    border: 2px solid #1a1a1a;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #d4a82a;
    border: 2px solid #1a1a1a;
  }

  /* Scrollbar fine sur mobile (discr√®te) */
  @media (max-width: 768px) {
    ::-webkit-scrollbar {
      width: 4px;
      height: 4px;
    }
    
    ::-webkit-scrollbar-thumb {
      border: 1px solid #1a1a1a;
      background: rgba(230, 190, 61, 0.6);
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: rgba(230, 190, 61, 0.8);
    }
  }

  /* Scrollbar pour Firefox */
  * {
    scrollbar-width: thin;
    scrollbar-color: #e6be3d #1a1a1a;
  }

  @media (max-width: 768px) {
    * {
      scrollbar-width: thin;
      scrollbar-color: rgba(230, 190, 61, 0.5) transparent;
    }
  }

  /* Scrollbar personnalis√© pour la sidebar admin */
  .sidebar-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .sidebar-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .sidebar-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    transition: background 0.3s ease;
  }

  .sidebar-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.35);
  }

  /* Animations pour les cartes */
  @keyframes cardFadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes cardHover {
    0% {
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(-4px) scale(1.02);
    }
    100% {
      transform: translateY(-2px) scale(1.01);
    }
  }

  /* Animation de d√©filement horizontal infini */
  @keyframes scroll-left {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .card-animate {
    animation: cardFadeIn 0.5s ease-out forwards;
    opacity: 0;
  }

  .card-animate:nth-child(1) {
    animation-delay: 0.1s;
  }

  .card-animate:nth-child(2) {
    animation-delay: 0.2s;
  }

  .card-animate:nth-child(3) {
    animation-delay: 0.3s;
  }

  .card-animate:nth-child(4) {
    animation-delay: 0.4s;
  }

  .card-hover-effect {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .card-hover-effect:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12), 0 4px 8px rgba(0, 0, 0, 0.08);
  }

  /* Animations d'entr√©e (entrance animations) */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeInDown {
    from {
      opacity: 0;
      transform: translateY(-40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeInLeft {
    from {
      opacity: 0;
      transform: translateX(-40px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes fadeInRight {
    from {
      opacity: 0;
      transform: translateX(40px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes rotateIn {
    from {
      opacity: 0;
      transform: rotate(-10deg) scale(0.9);
    }
    to {
      opacity: 1;
      transform: rotate(0deg) scale(1);
    }
  }

  /* Classes d'animation d'entr√©e */
  .animate-entrance-fade-up {
    animation: fadeInUp 0.8s ease-out forwards;
    opacity: 0;
  }

  .animate-entrance-fade-down {
    animation: fadeInDown 0.8s ease-out forwards;
    opacity: 0;
  }

  .animate-entrance-fade-left {
    animation: fadeInLeft 0.8s ease-out forwards;
    opacity: 0;
  }

  .animate-entrance-fade-right {
    animation: fadeInRight 0.8s ease-out forwards;
    opacity: 0;
  }

  .animate-entrance-scale {
    animation: scaleIn 0.6s ease-out forwards;
    opacity: 0;
  }

  .animate-entrance-rotate {
    animation: rotateIn 0.7s ease-out forwards;
    opacity: 0;
  }

  /* Classes pour animations on-scroll (seront activ√©es par JS) */
  .animate-on-scroll {
    opacity: 0;
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  }

  .animate-on-scroll.animate-in {
    opacity: 1;
  }

  .animate-on-scroll-fade-up {
    opacity: 0;
    transform: translateY(40px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  }

  .animate-on-scroll-fade-up.animate-in {
    opacity: 1;
    transform: translateY(0);
  }

  .animate-on-scroll-fade-down {
    opacity: 0;
    transform: translateY(-40px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  }

  .animate-on-scroll-fade-down.animate-in {
    opacity: 1;
    transform: translateY(0);
  }

  .animate-on-scroll-fade-left {
    opacity: 0;
    transform: translateX(-40px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  }

  .animate-on-scroll-fade-left.animate-in {
    opacity: 1;
    transform: translateX(0);
  }

  .animate-on-scroll-fade-right {
    opacity: 0;
    transform: translateX(40px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  }

  .animate-on-scroll-fade-right.animate-in {
    opacity: 1;
    transform: translateX(0);
  }

  .animate-on-scroll-scale {
    opacity: 0;
    transform: scale(0.9);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  }

  .animate-on-scroll-scale.animate-in {
    opacity: 1;
    transform: scale(1);
  }

  /* Transitions de page */
  @keyframes pageFadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes pageSlideIn {
    from {
      opacity: 0;
      transform: translateX(20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .page-transition-enter {
    animation: pageFadeIn 0.4s ease-out forwards;
  }

  .page-transition-slide {
    animation: pageSlideIn 0.5s ease-out forwards;
  }

  /* R√©duction des animations pour les utilisateurs qui pr√©f√®rent moins de mouvement */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* Styles pour le contenu HTML format√© (Tiptap) */
.prose {
  @apply text-foreground;
}

.prose h1 {
  @apply text-3xl font-bold mt-6 mb-4;
}

.prose h2 {
  @apply text-2xl font-bold mt-5 mb-3;
}

.prose h3 {
  @apply text-xl font-bold mt-4 mb-2;
}

.prose p {
  @apply mb-4 leading-relaxed;
}

.prose ul,
.prose ol {
  @apply mb-4 pl-6;
}

.prose ul {
  @apply list-disc;
}

.prose ol {
  @apply list-decimal;
}

.prose li {
  @apply mb-2;
}

.prose blockquote {
  @apply border-l-4 border-gold pl-4 italic my-4 text-muted-foreground;
}

.prose code {
  @apply bg-muted px-1.5 py-0.5 rounded text-sm font-mono;
}

.prose strong {
  @apply font-bold;
}

.prose em {
  @apply italic;
}

.prose a {
  @apply text-gold hover:underline;
}
